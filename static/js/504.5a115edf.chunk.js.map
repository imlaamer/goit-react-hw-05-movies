{"version":3,"file":"static/js/504.5a115edf.chunk.js","mappings":"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","sources":["components/Loader/Loader.jsx","webpack://react-homework-template/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.jsx","webpack://react-homework-template/./src/components/MoviesSearchForm/MoviesSearchForm.module.css?c270","components/MoviesSearchForm/MoviesSearchForm.jsx","pages/MoviesPage.jsx"],"sourcesContent":["import { ThreeDots } from 'react-loader-spinner';\n\nfunction Loader() {\n  return (\n    <div\n      // className=\"loadingBox\"\n      style={{\n        width: '100vw',\n        height: '100vh',\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        backgroundColor: 'rgba(0, 0, 0, 0.6)',\n      }}\n    >\n      <ThreeDots\n        visible={true}\n        height=\"100\"\n        width=\"100\"\n        color=\"#3F51B5\"\n        radius=\"9\"\n        ariaLabel=\"three-dots-loading\"\n        wrapperStyle={{}}\n        wrapperClass=\"\"\n      />\n    </div>\n  );\n}\n\nexport default Loader;\n","// extracted by mini-css-extract-plugin\nexport default {\"moviesList\":\"MoviesList_moviesList__P6SP5\",\"movieItem\":\"MoviesList_movieItem__p4FQU\",\"movieLink\":\"MoviesList_movieLink__QlD4H\",\"movieListImg\":\"MoviesList_movieListImg__4Luk2\",\"movieTitle\":\"MoviesList_movieTitle__CxO8p\"};","import css from './MoviesList.module.css';\nimport { NavLink, useLocation } from 'react-router-dom';\nimport { basePosterImgPath, defaultImg } from 'utils/constants';\n\nfunction MoviesList({ movies, moviesListRef }) {\n  const location = useLocation();\n\n  return (\n    <ul className={css.moviesList} ref={moviesListRef}>\n      {movies?.map(({ id, title, poster_path, name = 'movie' }) => {\n        return (\n          <li key={id} className={css.movieItem}>\n            <NavLink\n              state={{ from: location }}\n              to={`/movies/${id}/`}\n              className={css.movieLink}\n            >\n              <img\n                src={\n                  poster_path\n                    ? basePosterImgPath + poster_path\n                    : `${defaultImg}`\n                }\n                alt={title ?? name}\n                width={200}\n                className={css.movieListImg}\n              />\n\n              <p className={css.movieTitle}> {title ?? name}</p>\n            </NavLink>\n          </li>\n        );\n      })}\n    </ul>\n  );\n}\n\nexport default MoviesList;\n","// extracted by mini-css-extract-plugin\nexport default {\"moviesSearchForm\":\"MoviesSearchForm_moviesSearchForm__s5MRN\",\"moviesSearchInput\":\"MoviesSearchForm_moviesSearchInput__7sPwo\",\"moviesSearchBtn\":\"MoviesSearchForm_moviesSearchBtn__fMkh1\"};","import css from './MoviesSearchForm.module.css';\n\nfunction MoviesSearchForm({ onSubmit, onChange, query }) {\n  return (\n    <form onSubmit={onSubmit} className={css.moviesSearchForm}>\n      <input\n        type=\"text\"\n        placeholder=\"Search movie...\"\n        name=\"name\"\n        onChange={onChange}\n        value={query}\n        autoFocus\n        required\n        aria-label=\"Movie title\"\n        className={css.moviesSearchInput}\n      />\n      <button className={css.moviesSearchBtn}>Search</button>\n    </form>\n  );\n}\n\nexport default MoviesSearchForm;\n","import { useSearchParams } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport { getMoviesByQuery } from 'services/api';\nimport { STATUSES } from 'utils/constants';\nimport ErrorMessage from 'components/ErrorMessage/ErrorMessage';\nimport MoviesSearchForm from 'components/MoviesSearchForm/MoviesSearchForm';\nimport Loader from 'components/Loader/Loader';\nimport MoviesList from 'components/MoviesList/MoviesList';\n\nfunction MoviesPage() {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const queryParam = searchParams.get('query');\n  const [query, setQuery] = useState(() => queryParam ?? '');\n  const [status, setStatus] = useState(STATUSES.idle);\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (!searchParams.get('query')) return;\n    const fetchMoviesByQuery = async () => {\n      try {\n        setStatus(STATUSES.pending);\n        const { results: movies } = await getMoviesByQuery(query);\n        setStatus(STATUSES.success);\n        setMovies(movies);\n      } catch (error) {\n        setStatus(STATUSES.error);\n        setError(error);\n        console.log('Oops');\n      }\n    };\n    fetchMoviesByQuery();\n  }, []); //для першого рендеру при відкритті посилання\n\n  const handleValueChange = event => {\n    const { value } = event.currentTarget;\n    setQuery(value);\n  };\n\n  const handleSearchMoviesOnSubmit = event => {\n    event.preventDefault();\n    if (query === queryParam) {\n      return alert('Wa have already found movies for you');\n    }\n\n    if (query.trim() === '') {\n      setQuery('');\n      alert('Please enter a movie tittle ');\n      return;\n    }\n    const fetchMoviesByQuery = async queryParam => {\n      setSearchParams({ query: queryParam });\n      try {\n        setStatus(STATUSES.pending);\n        const { results: movies } = await getMoviesByQuery(query);\n        setStatus(STATUSES.success);\n        setMovies(movies);\n      } catch (error) {\n        setStatus(STATUSES.error);\n        setError(error);\n        console.log('Oops');\n      }\n    };\n    fetchMoviesByQuery(query);\n  };\n\n  return (\n    <>\n      <MoviesSearchForm\n        onSubmit={handleSearchMoviesOnSubmit}\n        onChange={handleValueChange}\n        query={query}\n      />\n\n      {status === STATUSES.success && movies.length === 0 && (\n        <p style={{ marginTop: 40, textAlign: 'center' }}>\n          No results found for your search. <br /> Search again\n        </p>\n      )}\n      {movies.length > 0 && <MoviesList movies={movies} />}\n      {status === STATUSES.error && <ErrorMessage error={error} />}\n      {status === STATUSES.pending && <Loader className=\"loadingBox\" />}\n    </>\n  );\n}\n\nexport default MoviesPage;\n"],"names":["_jsx","style","width","height","position","top","left","display","justifyContent","alignItems","backgroundColor","children","ThreeDots","visible","color","radius","ariaLabel","wrapperStyle","wrapperClass","_ref","movies","moviesListRef","location","useLocation","className","css","ref","map","_ref2","id","title","poster_path","_ref2$name","name","_jsxs","NavLink","state","from","to","concat","src","basePosterImgPath","defaultImg","alt","onSubmit","onChange","query","type","placeholder","value","autoFocus","required","_useSearchParams","useSearchParams","_useSearchParams2","_slicedToArray","searchParams","setSearchParams","queryParam","get","_useState","useState","_useState2","setQuery","_useState3","STATUSES","_useState4","status","setStatus","_useState5","_useState6","setMovies","_useState7","_useState8","error","setError","useEffect","fetchMoviesByQuery","_asyncToGenerator","_regeneratorRuntime","_callee","_yield$getMoviesByQue","_movies","_context","prev","next","getMoviesByQuery","sent","results","t0","console","log","stop","apply","arguments","_Fragment","MoviesSearchForm","event","preventDefault","alert","trim","_callee2","_yield$getMoviesByQue2","_movies2","_context2","_x","currentTarget","length","marginTop","textAlign","MoviesList","ErrorMessage","Loader"],"sourceRoot":""}