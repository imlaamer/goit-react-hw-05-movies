{"version":3,"file":"static/js/504.4deb785c.chunk.js","mappings":"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","sources":["components/Loader/Loader.jsx","webpack://react-homework-template/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.jsx","webpack://react-homework-template/./src/components/MoviesSearchForm/MoviesSearchForm.module.css?c270","components/MoviesSearchForm/MoviesSearchForm.jsx","pages/MoviesPage.jsx"],"sourcesContent":["import { ThreeDots } from 'react-loader-spinner';\n\nfunction Loader() {\n  return (\n    <div\n      // className=\"loadingBox\"\n      style={{\n        width: '100vw',\n        height: '100vh',\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        backgroundColor: 'rgba(0, 0, 0, 0.6)',\n      }}\n    >\n      <ThreeDots\n        visible={true}\n        height=\"100\"\n        width=\"100\"\n        color=\"#3F51B5\"\n        radius=\"9\"\n        ariaLabel=\"three-dots-loading\"\n        wrapperStyle={{}}\n        wrapperClass=\"\"\n      />\n    </div>\n  );\n}\n\nexport default Loader;\n","// extracted by mini-css-extract-plugin\nexport default {\"moviesList\":\"MoviesList_moviesList__P6SP5\",\"movieItem\":\"MoviesList_movieItem__p4FQU\",\"movieLink\":\"MoviesList_movieLink__QlD4H\",\"movieListImg\":\"MoviesList_movieListImg__4Luk2\",\"movieTitle\":\"MoviesList_movieTitle__CxO8p\"};","import css from './MoviesList.module.css';\nimport { NavLink, useLocation } from 'react-router-dom';\nimport { basePosterImgPath, defaultImg } from 'utils/constants';\n\nfunction MoviesList({ movies, moviesListRef }) {\n  const location = useLocation();\n\n  return (\n    <ul className={css.moviesList} ref={moviesListRef}>\n      {movies.map(({ id, title, poster_path, name = 'movie' }) => {\n        return (\n          <li key={id} className={css.movieItem}>\n            <NavLink\n              state={{ from: location }}\n              to={`/movies/${id}/`}\n              className={css.movieLink}\n            >\n              <img\n                src={\n                  poster_path\n                    ? basePosterImgPath + poster_path\n                    : `${defaultImg}`\n                }\n                alt={title ?? name}\n                width={200}\n                className={css.movieListImg}\n              />\n\n              <p className={css.movieTitle}> {title ?? name}</p>\n            </NavLink>\n          </li>\n        );\n      })}\n    </ul>\n  );\n}\n\nexport default MoviesList;\n","// extracted by mini-css-extract-plugin\nexport default {\"moviesSearchForm\":\"MoviesSearchForm_moviesSearchForm__s5MRN\",\"moviesSearchInput\":\"MoviesSearchForm_moviesSearchInput__7sPwo\",\"moviesSearchBtn\":\"MoviesSearchForm_moviesSearchBtn__fMkh1\"};","import css from './MoviesSearchForm.module.css';\nimport { useSearchParams } from 'react-router-dom';\nimport { useState } from 'react';\n\nfunction MoviesSearchForm() {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const queryParam = searchParams.get('query');\n  const [query, setQuery] = useState(() => queryParam ?? '');\n\n  const handleValueChange = event => {\n    setQuery(event.target.value);\n  };\n\n  const handleSearchMoviesOnSubmit = event => {\n    event.preventDefault();\n    if (query === queryParam) {\n      return alert('We have already found movies for you');\n    }\n    setSearchParams({ query: query });\n  };\n\n  return (\n    <form\n      onSubmit={handleSearchMoviesOnSubmit}\n      className={css.moviesSearchForm}\n    >\n      <input\n        type=\"text\"\n        placeholder=\"Search movie...\"\n        name=\"name\"\n        onChange={handleValueChange}\n        value={query}\n        autoFocus\n        required\n        aria-label=\"Movie title\"\n        className={css.moviesSearchInput}\n      />\n      <button className={css.moviesSearchBtn}>Search</button>\n    </form>\n  );\n}\n\nexport default MoviesSearchForm;\n","import { useSearchParams } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport { getMoviesByQuery } from 'services/api';\nimport { STATUSES } from 'utils/constants';\nimport ErrorMessage from 'components/ErrorMessage/ErrorMessage';\nimport MoviesSearchForm from 'components/MoviesSearchForm/MoviesSearchForm';\nimport Loader from 'components/Loader/Loader';\nimport MoviesList from 'components/MoviesList/MoviesList';\n\nfunction MoviesPage() {\n  const [searchParams] = useSearchParams();\n  const queryParam = searchParams.get('query');\n  const [status, setStatus] = useState(STATUSES.idle);\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (!queryParam) return;\n    const fetchMoviesByQuery = async () => {\n      try {\n        setStatus(STATUSES.pending);\n        const { results: movies } = await getMoviesByQuery(queryParam);\n        setStatus(STATUSES.success);\n        setMovies(movies);\n      } catch (error) {\n        setStatus(STATUSES.error);\n        setError(error);\n        console.log('Oops');\n      }\n    };\n    fetchMoviesByQuery();\n  }, [queryParam]);\n\n  return (\n    <>\n      <MoviesSearchForm />\n      {status === STATUSES.success && movies.length === 0 && (\n        <p style={{ marginTop: 40, textAlign: 'center' }}>\n          No results found for your search. <br /> Search again\n        </p>\n      )}\n      {movies.length > 0 && <MoviesList movies={movies} />}\n      {status === STATUSES.error && <ErrorMessage error={error} />}\n      {status === STATUSES.pending && <Loader className=\"loadingBox\" />}\n    </>\n  );\n}\n\nexport default MoviesPage;\n"],"names":["_jsx","style","width","height","position","top","left","display","justifyContent","alignItems","backgroundColor","children","ThreeDots","visible","color","radius","ariaLabel","wrapperStyle","wrapperClass","_ref","movies","moviesListRef","location","useLocation","className","css","ref","map","_ref2","id","title","poster_path","_ref2$name","name","_jsxs","NavLink","state","from","to","concat","src","basePosterImgPath","defaultImg","alt","_useSearchParams","useSearchParams","_useSearchParams2","_slicedToArray","searchParams","setSearchParams","queryParam","get","_useState","useState","_useState2","query","setQuery","onSubmit","event","preventDefault","alert","type","placeholder","onChange","target","value","autoFocus","required","STATUSES","status","setStatus","_useState3","_useState4","setMovies","_useState5","_useState6","error","setError","useEffect","fetchMoviesByQuery","_asyncToGenerator","_regeneratorRuntime","_callee","_yield$getMoviesByQue","_movies","_context","prev","next","getMoviesByQuery","sent","results","t0","console","log","stop","apply","arguments","_Fragment","MoviesSearchForm","length","marginTop","textAlign","MoviesList","ErrorMessage","Loader"],"sourceRoot":""}