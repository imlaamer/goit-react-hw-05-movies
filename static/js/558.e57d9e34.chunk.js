"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[558],{854:function(e,t,n){var r=n(154),i=n(184);t.Z=function(){return(0,i.jsx)("div",{style:{width:"100vw",height:"100vh",position:"fixed",top:0,left:0,display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.6)"},children:(0,i.jsx)(r.g4,{visible:!0,height:"100",width:"100",color:"#3F51B5",radius:"9",ariaLabel:"three-dots-loading",wrapperStyle:{},wrapperClass:""})})}},155:function(e,t,n){n.d(t,{Z:function(){return v}});var r="MoviesList_moviesList__P6SP5",i="MoviesList_movieItem__p4FQU",o="MoviesList_movieLink__QlD4H",s="MoviesList_movieListImg__4Luk2",a="MoviesList_movieTitle__CxO8p",l=n(689),c=n(87),u=n(585),d=n(184);var v=function(e){var t=e.movies,n=e.moviesListRef,v=(0,l.TH)();return(0,d.jsx)("ul",{className:r,ref:n,children:null===t||void 0===t?void 0:t.map((function(e){var t=e.id,n=e.title,r=e.poster_path,l=e.name,f=void 0===l?"movie":l;return(0,d.jsx)("li",{className:i,children:(0,d.jsxs)(c.OL,{state:{from:v},to:"/movies/".concat(t,"/"),className:o,children:[(0,d.jsx)("img",{src:r?u.Sb+r:"".concat(u.Mm),alt:null!==n&&void 0!==n?n:f,width:200,className:s}),(0,d.jsxs)("p",{className:a,children:[" ",null!==n&&void 0!==n?n:f]})]})},t)}))})}},558:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var r=n(433),i=n(861),o=n(439),s=n(757),a=n.n(s),l=n(791),c=n(526),u=n(585),d=n(155),v=n(854),f=n(505),m="LoadMoreBtn_loadMoreBtnBox__Er+v7",h="LoadMoreBtn_loadMoreBtn__efbIo",p=n(184);var _=function(e){var t=e.onClick;return(0,p.jsx)("div",{className:m,children:(0,p.jsx)("button",{className:h,type:"button",onClick:t,children:"Load more"})})};var x=function(){var e=(0,l.useState)(u.n$.idle),t=(0,o.Z)(e,2),n=t[0],s=t[1],m=(0,l.useState)([]),h=(0,o.Z)(m,2),x=h[0],g=h[1],w=(0,l.useState)(null),L=(0,o.Z)(w,2),j=L[0],k=L[1],b=(0,l.useState)(1),Z=(0,o.Z)(b,2),C=Z[0],M=Z[1],B=(0,l.useState)(!1),S=(0,o.Z)(B,2),N=S[0],$=S[1],y=(0,l.useState)(!1),R=(0,o.Z)(y,2),E=(R[0],R[1]),I=(0,l.useRef)(null);return(0,l.useEffect)((function(){var e=function(){var e=(0,i.Z)(a().mark((function e(){var t,n,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(u.n$.pending),e.next=4,(0,c.Df)(C);case 4:if(t=e.sent,n=t.results,i=t.total_results,0!==n.length){e.next=11;break}return E(!0),s(u.n$.idle),e.abrupt("return");case 11:g((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(n))})),$(C<Math.ceil(i/12)),s(u.n$.success),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(0),s(u.n$.error),k(e.t0),console.log("Oops");case 21:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();e()}),[C]),(0,p.jsxs)(p.Fragment,{children:[x.length>0&&(0,p.jsx)(d.Z,{movies:x,moviesListRef:I}),N&&(0,p.jsx)(_,{onClick:function(){M((function(e){return e+1})),setTimeout((function(){if(I.current){!function(){var e=I.current.firstElementChild.getBoundingClientRect().height,t=I.current.firstElementChild.getBoundingClientRect().top,n=window.innerHeight/e;window.scrollTo({top:e*n-80-t,behavior:"smooth"})}()}}),500)}}),n===u.n$.error&&(0,p.jsx)(f.Z,{error:j}),n===u.n$.pending&&(0,p.jsx)(v.Z,{className:"loadingBox"})]})}}}]);
//# sourceMappingURL=558.e57d9e34.chunk.js.map