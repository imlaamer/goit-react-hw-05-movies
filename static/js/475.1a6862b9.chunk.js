"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[475],{854:function(e,t,n){var r=n(154),i=n(184);t.Z=function(){return(0,i.jsx)("div",{style:{width:"100vw",height:"100vh",position:"fixed",top:0,left:0,display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.6)"},children:(0,i.jsx)(r.g4,{visible:!0,height:"100",width:"100",color:"#3F51B5",radius:"9",ariaLabel:"three-dots-loading",wrapperStyle:{},wrapperClass:""})})}},155:function(e,t,n){n.d(t,{Z:function(){return v}});var r="MoviesList_moviesList__P6SP5",i="MoviesList_movieItem__p4FQU",s="MoviesList_movieLink__QlD4H",o="MoviesList_movieListImg__4Luk2",a="MoviesList_movieTitle__CxO8p",l=n(689),c=n(87),u=n(585),d=n(184);var v=function(e){var t=e.movies,n=e.moviesListRef,v=(0,l.TH)();return(0,d.jsx)("ul",{className:r,ref:n,children:null===t||void 0===t?void 0:t.map((function(e){var t=e.id,n=e.title,r=e.poster_path,l=e.name,f=void 0===l?"movie":l;return(0,d.jsx)("li",{className:i,children:(0,d.jsxs)(c.OL,{state:{from:v},to:"/movies/".concat(t,"/"),className:s,children:[(0,d.jsx)("img",{src:r?u.Sb+r:"".concat(u.Mm),alt:null!==n&&void 0!==n?n:f,width:200,className:o}),(0,d.jsxs)("p",{className:a,children:[" ",null!==n&&void 0!==n?n:f]})]})},t)}))})}},475:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var r=n(433),i=n(861),s=n(439),o=n(757),a=n.n(o),l=n(791),c=n(526),u=n(585),d=n(155),v=n(854),f=n(505),m="LoadMoreBtn_loadMoreBtnBox__Er+v7",h="LoadMoreBtn_loadMoreBtn__efbIo",p=n(184);var x=function(e){var t=e.onClick;return(0,p.jsx)("div",{className:m,children:(0,p.jsx)("button",{className:h,type:"button",onClick:t,children:"Load more"})})};var g=function(){return(0,p.jsx)("div",{style:{marginTop:200,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,p.jsxs)("p",{style:{textAlign:"center",fontSize:50,margin:0},children:["Sorry! ",(0,p.jsx)("br",{}),"There are no movies"]})})};var _=function(){var e=(0,l.useState)(u.n$.idle),t=(0,s.Z)(e,2),n=t[0],o=t[1],m=(0,l.useState)([]),h=(0,s.Z)(m,2),_=h[0],j=h[1],w=(0,l.useState)(null),L=(0,s.Z)(w,2),b=L[0],k=L[1],C=(0,l.useState)(1),Z=(0,s.Z)(C,2),y=Z[0],M=Z[1],S=(0,l.useState)(!1),B=(0,s.Z)(S,2),N=B[0],T=B[1],$=(0,l.useState)(!1),I=(0,s.Z)($,2),R=I[0],E=I[1],F=(0,l.useRef)(null);return(0,l.useEffect)((function(){var e=function(){var e=(0,i.Z)(a().mark((function e(){var t,n,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(u.n$.pending),e.next=4,(0,c.Df)(y);case 4:if(t=e.sent,n=t.results,i=t.total_results,0!==n.length){e.next=11;break}return E(!0),o(u.n$.idle),e.abrupt("return");case 11:j((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(n))})),T(y<Math.ceil(i/12)),o(u.n$.success),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(0),o(u.n$.error),k(e.t0),console.log("Oops");case 21:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();e()}),[y]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("h1",{style:{marginTop:100,textAlign:"center"},children:"Trending today"}),_.length>0&&(0,p.jsx)(d.Z,{movies:_,moviesListRef:F}),R&&(0,p.jsx)(g,{}),N&&(0,p.jsx)(x,{onClick:function(){M((function(e){return e+1})),setTimeout((function(){if(F.current){!function(){var e=F.current.firstElementChild.getBoundingClientRect().height,t=F.current.firstElementChild.getBoundingClientRect().top,n=window.innerHeight/e;window.scrollTo({top:e*n-80-t,behavior:"smooth"})}()}}),500)}}),n===u.n$.error&&(0,p.jsx)(f.Z,{error:b}),n===u.n$.pending&&(0,p.jsx)(v.Z,{className:"loadingBox"})]})}}}]);
//# sourceMappingURL=475.1a6862b9.chunk.js.map